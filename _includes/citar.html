<a id="btn-citar-{{ page.slug | default: page.url | slugify }}" class="btn-citar">&#x301E;</a>
  
  <div id="modal-citar-{{ page.slug | default: page.url | slugify }}" class="modal-citar">
    <div class="modal-contenido">
      <span class="modal-cerrar">&times;</span>
      <h3>Referencias</h3>
  
      <h4>APA (7ª edición)</h4>
      <p id="apa-cita">
        Spencer, H. ({{ page.date | date: "%Y, %B %-d" }}). <em>{{ page.title }}</em>. 
        En <em>{{ site.title }}</em>. https://herbertspencer.net{{ page.url }}. Visitado en: <span class="fecha-acceso"></span>
      </p>
  
      <h4>MLA</h4>
      <p id="mla-cita">
        Spencer, Herbert. "<em>{{ page.title }}</em>." <em>{{ site.title }}</em>, {{ page.date | date: "%-d %B %Y" }}, 
        https://herbertspencer.net{{ page.url }}. Accedido el <span class="fecha-acceso"></span>.
      </p>
  
      <h4>Chicago</h4>
      <p id="chicago-cita">
        Spencer, Herbert. "<em>{{ page.title }}</em>." {{ site.title }}. Publicado el {{ page.date | date: "%-d de %B de %Y" }}. 
        https://herbertspencer.net{{ page.url }}. Consultado el <span class="fecha-acceso"></span>.
      </p>
    </div>
  </div>
  
  <script>
  document.addEventListener("DOMContentLoaded", function () {
    const btn = document.getElementById("btn-citar-{{ page.slug | default: page.url | slugify }}");
    const modal = document.getElementById("modal-citar-{{ page.slug | default: page.url | slugify }}");
    const cerrar = modal.querySelector(".modal-cerrar");
  
    btn.addEventListener("click", () => modal.style.display = "block");
    cerrar.addEventListener("click", () => modal.style.display = "none");
    window.addEventListener("click", e => {
      if (e.target == modal) modal.style.display = "none";
    });
  
    // Insertar fecha de acceso en formato: 26 de marzo de 2025
    const fecha = new Date();
    const meses = [
      "enero", "febrero", "marzo", "abril", "mayo", "junio",
      "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"
    ];
    const fechaFormateada = `${fecha.getDate()} de ${meses[fecha.getMonth()]} de ${fecha.getFullYear()}`;
    document.querySelectorAll(".fecha-acceso").forEach(el => el.textContent = fechaFormateada);
  });
  </script>